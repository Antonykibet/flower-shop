<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/header.css">
    <link rel="stylesheet" href="css/footer.css">
    <link rel="stylesheet" href="css/events.css">
    <title>Events</title>
</head>
<body>
    <header id="headerBody">
        <div id="topHeader">✔ 7 Day Freshness Guarantee ✔ Order Before 9pm For Next Day Delivery ✔ Free Chocolates Available!</div>
        <div id="desktopHeader">
            <img id="logo" src="/images/Calyx Flowers Logo.png" alt="">

            <div class="headerIcons" id="deskHeaderIcon">
                <i class="bi bi-person-circle"></i>
                <a href="/cart"><i id="cartIcon" class="bi bi-cart4"></i></a>
                <i class="bi bi-list"></i>

                <div class="loginDropdown">
                    <a href="/login">Login</a>
                </div>
            </div>
        </div>
        <nav class="desktopNav">
            <div class="navItem">
                <button class="nav-button" id="byOccassion">By Occassion</button>
                <div class="dropdown-menu" id="byOccassionMenu">
                    <a href="/category/Birthday" class="link" data-product="birthday">Birthdays</a>
                    <a href="/category/Congratulation" class="link" data-product="congratulation" >Congratulation</a>
                    <a href="/category/Love and Romance" class="link" data-product="love" >love and Romance</a>
                    <a href="/category/Thank You" class="link" data-product="thankYou" >Thank You</a>
                    <a href="/category/For Him" class="link" data-product="forHim" >For Him</a>                
                    <a href="/category/Valentines" class="link" data-product="valentines" >Valentines</a>
                    <a href="/category/Mother's Day" class="link" data-product="mothersDay" >Mother's Day</a>
                    <a href="/category/Get Well" class="link" data-product="getWell" >Get well</a>
                    <a href="/category/Funeral" class="link" data-product="funeral" >Funeral</a>
                </div>
            </div>
            <div class="navItem">
                <button class="nav-button" id="byEvents">Events</button>
                <div class="dropdown-menu" id="byEventsMenu">
                    <a href="">Birthdays</a>
                    <a href="">Congratulation</a>
                    <a href="">love and Romance</a>
                    <a href="">Thank You</a>
                    <a href="">For Him</a>                
                    <a href="">Valentines</a>
                    <a href="">Mother's Day</a>
                    <a href="">Get well</a>
                    <a href="">Funeral</a>
                </div>
            </div>
    
            <div class="navItem">
                <button class="nav-button" id="giftHampers">Gift Hampers</button>
                <div class="dropdown-menu" id="giftHampersMenu">
                    <a href="">For Her</a>
                    <a href="">For Him</a>
                    <a href="">Bestie</a>
                    <a href="">Baby Shower</a>
                    <a href="">Bridal Shower</a>                
                </div>
            </div>
            
            <div class="navItem">
                <button class="nav-button" id="byPrice">By Price</button>
                <div class="dropdown-menu" id="byPriceMenu">
                    <a href="">For Her</a>
                    <a href="">For Him</a>               
                </div>
            </div>
    
            <div class="navItem">
                <button class="nav-button" id="byType">By Type</button>
                <div class="dropdown-menu" id="byTypeMenu">
                    <a href="">For Her</a>
                    <a href="">For Him</a>               
                </div>
            </div>
    
            <div class="navItem">
                <button class="nav-button" id="Subscriptions">Subscriptions</button>
                <div class="dropdown-menu" id="subscriptionMenu">
                    <a href="/category/Monthly">Monthly</a>
                    <a href="/category/Monthly">Quartely</a>
                    <a href="/category/Monthly">Yearly</a>               
                </div>
            </div>
        </nav>
    </header>

    <h1 class="title" >Events</h1>
    <section id="content">
        
    </section>



    <footer id="footer">
        <div id="mainFooter" style="width: 100%;display: flex;justify-content: space-around;">
            <div id="footerLogo" ></div>
            <div class="footerNavs">
                By Occassion
                <div class="footerDropdown">
                    <a class="footerLists" href="">Birthdays</a>
                    <a class="footerLists" href="">Congratulation</a>
                    <a class="footerLists" href="">love and Romance</a>
                    <a class="footerLists" href="">Thank You</a>
                    <a class="footerLists" href="">For Him</a>                
                    <a class="footerLists" href="">Valentines</a>
                    <a class="footerLists" href="">Mother's Day</a>
                    <a class="footerLists" href="">Get well</a>
                    <a class="footerLists" href="">Funeral</a>
                </div>
            </div>
            <div class="footerNavs">
                Events
                <div class="footerDropdown">
                    <a class="footerLists" href="">Backdrop</a>
                    <a class="footerLists" href="">Flower arrangement</a>
                    <a class="footerLists" href="">Room decoration</a>
                </div>
            </div>
            <div class="footerNavs">
                Gift Hampers
                <div class="footerDropdown">
                    <a class="footerLists" href="">For Her</a>
                    <a class="footerLists" href="">For Him</a>
                    <a class="footerLists" href="">Bestie</a>
                    <a class="footerLists" href="">Baby Shower</a>
                </div>
            </div>
            <div class="footerNavs">By Price</div>
            <div class="footerNavs">By Price</div>
        </div>
        <div id="lowerFooter"> Designed and developed by <a href="">webGuy</a> </div>
    </footer>
    <script>
        let contentContainer = document.getElementById('content')
        async function getEvents(){
            try {
                let response = await fetch('/getEvents')
                let result = await response.json()
                return result
            } catch (error) {
                console.log(`Error at getting events: ${error}`)
                return []
            }
        }
        async function renderEvents(){
            let events = await getEvents()
            if(!events.length > 0) return
            events.forEach((event)=>{
                let div = document.createElement('div')
                div.classList.add('eventDiv')
                div.innerHTML=`
                <h1 style="margin-bottom: 12px;" class="title" >${event.title}</h1>
                <img class="eventImage" src="/images/${event.image}" alt="">
                <p class="eventCaption">${event.caption}</p>
                `
                contentContainer.appendChild(div)
            })
        }
        document.addEventListener("DOMContentLoaded", async function() {
            await renderEvents()
        })
    </script>
</body>
</html>